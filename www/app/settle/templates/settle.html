<ion-view  align-title="right" view-title="Settle" >
    <ion-header-bar align-title="left" class="bar bar-subheader bar-positive">
        <h1 class="title">{{vm.settlementTitle}}</h1>
        <div class="buttons">
            <button class="button button-icon icon ion-more"
                    ng-click="vm.showActionsPopover($event)"></button>
            <button class="button button-icon icon ion-ios-plus-outline"
                    ng-show="!vm.isArchived"
                    ng-click="vm.openAddEntryModal()"></button>
        </div>
    </ion-header-bar>
    <ion-content>
        <ion-list can-swipe="!vm.isArchived">
            <ion-item ng-repeat="item in vm.entries">
                <h2>{{item.name}}</h2>
                <p>{{item.amount}} {{item.note}}</p>
                <ion-option-button class="button"
                            ng-click="vm.editEntry($index)">
                    Edit
                </ion-option-button>
                <ion-option-button class="button-assertive"
                            ng-click="vm.removeEntry($index)">
                    Remove
                </ion-option-button>
            </ion-item>
        </ion-list>
    </ion-content>
    <ion-footer-bar class="bar bar-positive">
        <div class="footer-bar-centered">
            <a ng-disabled="vm.entries.length <= 1"
               class="button button-clear"
               ui-sref="settler.result({settlementId: {{vm.settlementId}}})">Show Result</a>
        </div>
    </ion-footer-bar>
</ion-view>
